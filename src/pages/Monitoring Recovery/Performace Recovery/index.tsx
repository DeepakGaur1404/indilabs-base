import React, { useEffect, useState } from "react";
// import Sidebar from "../../../components/common/Sidebar";
import DashboardHeader from "../../../components/DshboardHeader/DashboardHeader";
import Button from "../../../components/Button";
import SubTabs from "../../../components/SubTabs/SubTabs";
import ForwardFlowRatesPortfolioRecovery from "../../../components/Monitoring Recovery/ForwardFlowRatesPortfolioRecovery";
import CustomizeBarScatterPeroformanceRecovery from "../../../components/Monitoring Recovery/CustomizeBarScatterCharts";
import ForwardFlowRatesPerformanceRecovery from "../../../components/Monitoring Recovery/ForwardFlowRatesPerformanceRecovery";
import MonitoringRecoverySubtabsDashboardHeader from "../../../components/MonitoringRecoverySubtabsDashboardHeader/MonitoringRecoverySubtabsDashboardHeader";
import MonitoringCollectionDashboardHeader from "../../../components/MonitoringCollectionDashboardHeader/MonitoringCollectionDashboardHeader";
// import "../Monitoring.scss";
import { useNavigate } from "react-router-dom";
import PerformanceDashboard from "../../../components/PerformanceDashboardHeader/PerformanceDashboard";
import HomeDashboard from "../../../components/PerformanceDashboardHeader/HomeDashboard";
const Buttons = [
  { id: "$Recovery", label: "$ Value" },
  { id: "uniquePayer", label: "# Accounts" },
];

const categories = [
  { id: "vintage", name: "Vintage" },
  // { id: "placement", name: "Placement" },
  { id: "location", name: "Location" },
  // { id: "agency", name: "Agency" },
  { id: "pos", name: "POS" },
  // { id: "payment", name: "Payment" },
];

const subCategories = [
  { id: "<6", name: "<6" },
  { id: "6-12", name: "6-12" },
  { id: "12-18", name: "12-18" },
  { id: "18-24", name: "18-24" },
  { id: "24-36", name: "24-36" },
  { id: "36+", name: "36+" },
];

const subCategoriesPlacements = [
  { id: "1", name: "1" },
  { id: "2", name: "2" },
  { id: "3", name: "3" },
  { id: "4", name: "4" },
  { id: "5", name: "5" },
  { id: "6+", name: "6+" },
];

const subCategoriesAgents = [
  { id: "DCA1", name: "DCA1" },
  { id: "DCA2", name: "DCA2" },
  { id: "DCA3", name: "DCA3" },
  { id: "DCA4", name: "DCA4" },
  { id: "DCA5", name: "DCA5" },
];

const subCategoriesAgentsUniquePayer = [
  { id: "DCA1", name: "DCA1" },
  { id: "DCA2", name: "DCA2" },
  { id: "DCA3", name: "DCA3" },
  { id: "DCA4", name: "DCA4" },
  { id: "DCA5", name: "DCA5" },
  { id: "Others", name: "Others" },
];
const subCategoriesPayment = [
  { id: "PA", name: "PA" },
  { id: "FFS", name: "FFS" },
];
const subCategoriesLocation = [
  { id: "MUM", name: "Mum" },
  { id: "BLR", name: "Blr" },
  { id: "DEL", name: "Del" },
  { id: "PUN", name: "Pun" },
  { id: "HYD", name: "Hyd" },
  { id: "KOL", name: "Kol" },
  { id: "Others", name: "Others" },
];
const subCategoriesSegment = [
  { id: "Score", name: "Score" },
  { id: "Age", name: "Age" },
  { id: "Industry", name: "Industry" },
  { id: "Employment", name: "Employment" },
  { id: "Seg5", name: "Seg5" },
  { id: "Others", name: "Others" },
];
const subCategoriesSegmentUniquePayer = [
  { id: "Seg1", name: "Seg1" },
  { id: "Seg2", name: "Seg2" },
  { id: "Seg3", name: "Seg3" },
  { id: "Seg4", name: "Seg4" },
  { id: "Seg5", name: "Seg5" },
  { id: "Others", name: "Others" },
];

const staticDataRecoveryPerformance: any = 
{
  "vintage": [
      {
          "segment": "vintage",
          "bars": [
              {
                  "bar": {
                      "sub_segment": "V1",
                      "value": 27291701.71
                  },
                  "point": {
                      "sub_segment": "V1",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "V2",
                      "value": 10735983.15
                  },
                  "point": {
                      "sub_segment": "V2",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "V3",
                      "value": 8461834.45
                  },
                  "point": {
                      "sub_segment": "V3",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "V4",
                      "value": 13821955.32
                  },
                  "point": {
                      "sub_segment": "V4",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "V5",
                      "value": 23729023.42
                  },
                  "point": {
                      "sub_segment": "V5",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "V6",
                      "value": 2949247.55
                  },
                  "point": {
                      "sub_segment": "V6",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "V7",
                      "value": 361601.30999999994
                  },
                  "point": {
                      "sub_segment": "V7",
                      "value": 0
                  }
              }
          ]
      },
      {
          "segment": "vintage",
          "series": [
              {
                  "sub_segment": "V1",
                  "value": [
                      3.3157881502736046,
                      2.3315695548759017,
                      1.458646280892911,
                      2.830386601620277,
                      2.758577540929643,
                      2.7313777488674416,
                      2.5822124785165386,
                      2.421213218217457,
                      2.5865256419619067,
                      1.8299249002353444,
                      2.558466983413042,
                      2.3423842924048017,
                      2.305341236166865,
                      2.212151156627066,
                      1.7158389064762833,
                      2.004836609215151,
                      1.8929057296379397
                  ]
              },
              {
                  "sub_segment": "V2",
                  "value": [
                      1.864940038128712,
                      2.3446243101339572,
                      1.5258510638124787,
                      1.8393869381301806,
                      1.8470706220511766,
                      1.201808202733114,
                      1.2660644976280622,
                      1.5510429225605618,
                      1.4337497063932594,
                      1.131001901804436,
                      1.1563500263487603,
                      1.4092335598936945,
                      1.1634087908160595,
                      1.299990274416512,
                      0.9721677374057889,
                      1.0441199615193884,
                      0.8683658382895368
                  ]
              },
              {
                  "sub_segment": "V3",
                  "value": [
                      1.973383096721892,
                      1.5205961982507823,
                      1.0953482043956995,
                      1.2687705604265136,
                      1.1968989848713778,
                      1.5897617941874893,
                      1.5747140354823546,
                      1.5745777288025593,
                      1.194172355938727,
                      0.56439322638825,
                      0.9074925513036668,
                      0.8689658178131809,
                      0.7194039782103043,
                      0.8930337522100805,
                      0.7217915848123293,
                      1.0416474062020014,
                      0.7262978029671425
                  ]
              },
              {
                  "sub_segment": "V4",
                  "value": [
                      0.985111535198895,
                      0.9217831632153003,
                      0.6814564493917074,
                      0.7170884780887563,
                      0.8499560711433863,
                      0.7627952597163759,
                      0.7661825067433633,
                      0.9119260769815616,
                      0.946619996699287,
                      1.0042992051142925,
                      0.9078297218573127,
                      0.9460396071930598,
                      0.9877079605598347,
                      0.937772612365133,
                      0.5559923171819063,
                      0.6599826180738612,
                      0.6368036967892864
                  ]
              },
              {
                  "sub_segment": "V5",
                  "value": [
                      0.512594889073911,
                      0.46261997464182025,
                      0.3309543121962778,
                      0.3417727917675045,
                      0.44095758636075544,
                      0.38627211836541364,
                      0.36557429743925146,
                      0.44454985642393696,
                      0.4198690857512695,
                      0.41015964165323937,
                      0.4343250929247867,
                      0.3535623439391667,
                      0.3912563641512351,
                      0.5259327673030351,
                      0.3317523667278509,
                      0.40639771425346205,
                      0.3434575539288568
                  ]
              },
              {
                  "sub_segment": "V6",
                  "value": [
                      0.36722910798184616,
                      0.291023864816689,
                      0.29836623072453156,
                      0.2330475611865644,
                      0.26490054505272576,
                      0.27717706974547096,
                      0.25675377182043446,
                      0.25678005098853224,
                      0.17179370921044815,
                      0.23167370312311442,
                      0.21309422424758148,
                      0.18641182211114965,
                      0.20034121396928853,
                      0.2031096700946436,
                      0.14073765004248878,
                      0.16958704508559894,
                      0.12146045249414329
                  ]
              },
              {
                  "sub_segment": "V7",
                  "value": [
                      0.36980344744586824,
                      0.36189391948945265,
                      0.296818078768359,
                      0.2823924392677922,
                      0.24447372723834024,
                      0.4305039309447983,
                      0.2993892537087095,
                      0.12011982366550915,
                      0.27216548240477584,
                      0.2515743486928872,
                      0.2046401439661794,
                      0.2921353473277661,
                      0.19957766901750082,
                      0.372549016777178,
                      0.05183629784953205,
                      0.2128965364192964,
                      0.0691584175212473
                  ]
              }
          ]
      }
  ],
  "location": [
      {
          "segment": "location",
          "bars": [
              {
                  "bar": {
                      "sub_segment": "MAHARASHTRA",
                      "value": 16211553.29
                  },
                  "point": {
                      "sub_segment": "MAHARASHTRA",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "TELANGANA",
                      "value": 6818938.66
                  },
                  "point": {
                      "sub_segment": "TELANGANA",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "KARNATAKA",
                      "value": 6749794.62
                  },
                  "point": {
                      "sub_segment": "KARNATAKA",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "TAMIL NADU",
                      "value": 6638349.0
                  },
                  "point": {
                      "sub_segment": "TAMIL NADU",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "MADHYA PRADESH",
                      "value": 6624593.15
                  },
                  "point": {
                      "sub_segment": "MADHYA PRADESH",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "ANDHRA PRADESH",
                      "value": 5744780.17
                  },
                  "point": {
                      "sub_segment": "ANDHRA PRADESH",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "UTTAR PRADESH",
                      "value": 5546993.24
                  },
                  "point": {
                      "sub_segment": "UTTAR PRADESH",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "GUJARAT",
                      "value": 3865754.52
                  },
                  "point": {
                      "sub_segment": "GUJARAT",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "DELHI",
                      "value": 3816889.79
                  },
                  "point": {
                      "sub_segment": "DELHI",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "HARYANA",
                      "value": 3644859.57
                  },
                  "point": {
                      "sub_segment": "HARYANA",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": "Others",
                      "value": 21688840.9
                  },
                  "point": {
                      "sub_segment": "Others",
                      "value": 0
                  }
              }
          ]
      },
      {
          "segment": "location",
          "series": [
              {
                  "sub_segment": "ANDHRA PRADESH",
                  "value": [
                      1.0075507541989566,
                      0.9661472956981304,
                      0.6609183092004445,
                      0.7486900305156037,
                      0.9231591209537936,
                      1.0359021313194712,
                      0.9439136872505413,
                      1.0276025759557461,
                      0.8366843557985469,
                      0.9711560876323619,
                      1.0376210805465298,
                      0.6538807671785705,
                      0.8495481856970448,
                      1.318917534382802,
                      0.6693191951739924,
                      0.7910646894028249,
                      0.5937128126978269
                  ]
              },
              {
                  "sub_segment": "DELHI",
                  "value": [
                      1.0056900614825077,
                      0.6908844571804543,
                      0.5688791808729834,
                      0.6618900406923162,
                      0.5225673165871131,
                      0.7231832534895442,
                      0.8360042539715038,
                      0.8011926859486653,
                      0.6029544892635422,
                      0.4101160472399709,
                      0.702421545196492,
                      0.7639275706848705,
                      0.5253029837483365,
                      0.6805671885236185,
                      0.4010780434365902,
                      0.4673686930170981,
                      0.46451681808895373
                  ]
              },
              {
                  "sub_segment": "GUJARAT",
                  "value": [
                      0.4790999423175286,
                      0.5192552100723883,
                      0.2849390935051959,
                      0.4674003471946956,
                      0.6522904830737218,
                      0.46149191600325074,
                      0.549919525822559,
                      0.5311253321491344,
                      0.4240527117931913,
                      0.25708210289891753,
                      0.36204648779524506,
                      0.48226068740499634,
                      0.488421367067351,
                      0.4987971338100289,
                      0.35193578827522287,
                      0.3687716688539813,
                      0.4466369949156171
                  ]
              },
              {
                  "sub_segment": "HARYANA",
                  "value": [
                      0.8966872323977235,
                      0.6736492387263926,
                      0.6035861579359264,
                      0.7415749230852033,
                      0.8100648769871183,
                      0.6864835314467104,
                      0.5070844117243961,
                      0.7765804563928658,
                      0.5099077216656202,
                      0.5010726095775376,
                      0.5427735832134083,
                      0.44816310884882554,
                      0.389647430059146,
                      0.4422058510887875,
                      0.32669252463561665,
                      0.48295495829312735,
                      0.36092181929930345
                  ]
              },
              {
                  "sub_segment": "KARNATAKA",
                  "value": [
                      2.0652809494623536,
                      1.5066325790527784,
                      0.8903708767738996,
                      1.0291245421919182,
                      1.1307489051341517,
                      1.0273916498394093,
                      1.1220590515069502,
                      0.8920409055721902,
                      1.176697171662798,
                      0.8500442231151702,
                      1.0631949879639655,
                      1.1841019531179313,
                      0.9020938333161017,
                      0.9278883837479145,
                      0.6220716723454536,
                      0.797270715311819,
                      0.6673386758449502
                  ]
              },
              {
                  "sub_segment": "MADHYA PRADESH",
                  "value": [
                      0.8280527550306057,
                      0.7307945046042702,
                      0.608356508657687,
                      0.5780694609446602,
                      0.9244068737777719,
                      0.5790983321404215,
                      0.8388706349480614,
                      0.9264007887454033,
                      0.7219149742401608,
                      0.5902218374443271,
                      0.7332714525402789,
                      0.6797690305404323,
                      0.7785237559047251,
                      1.0052833884974077,
                      0.6872064134102813,
                      0.6739455943536056,
                      0.5941983969417858
                  ]
              },
              {
                  "sub_segment": "MAHARASHTRA",
                  "value": [
                      1.0310706185030705,
                      0.9174711315781132,
                      0.6601734019609057,
                      0.886174929287243,
                      0.8554341397354128,
                      0.8399780351466525,
                      0.8212887938781449,
                      0.6689470447793117,
                      0.8857294221065126,
                      0.7775404767785407,
                      0.8311034507095493,
                      0.8386445703651957,
                      0.8370599366915729,
                      0.8295832158535882,
                      0.6106788515894286,
                      0.7382498148651045,
                      0.6430488723963931
                  ]
              },
              {
                  "sub_segment": "TAMIL NADU",
                  "value": [
                      1.3141336566434305,
                      1.3130362853440571,
                      0.8571938165669434,
                      0.8968994181640733,
                      1.0559490378879464,
                      1.0360410296313227,
                      0.904539251071973,
                      1.0107309940150555,
                      1.0795655486321523,
                      0.7917391827530201,
                      0.7376122956096214,
                      0.6578953303091497,
                      0.7602743248527569,
                      0.8181740505720757,
                      0.5315795128299967,
                      0.5553632960244879,
                      0.5350658359352976
                  ]
              },
              {
                  "sub_segment": "TELANGANA",
                  "value": [
                      1.276979243486861,
                      1.2378441424711384,
                      1.0212925316529138,
                      1.082031382881009,
                      1.135311370950721,
                      1.112208877590828,
                      1.2475755661785932,
                      1.131806258249547,
                      1.1342392167256876,
                      0.8348774587621841,
                      1.091672757619002,
                      0.8975665727380461,
                      0.8952392456231617,
                      0.8618529865885007,
                      0.7384863295234592,
                      0.8460752350216996,
                      0.7277822414285264
                  ]
              },
              {
                  "sub_segment": "UTTAR PRADESH",
                  "value": [
                      0.8160444505782403,
                      0.7913729670829789,
                      0.5971023515808683,
                      0.7178122538673902,
                      0.6455344815891627,
                      0.6231713566791222,
                      0.6465637474280083,
                      0.5924082355528854,
                      0.6175616777757106,
                      0.5077926272848887,
                      0.4619617180965231,
                      0.5476150076446771,
                      0.5416684003909891,
                      0.48582081422176326,
                      0.4395028709541902,
                      0.5460307377660784,
                      0.36740386315176693
                  ]
              },
              {
                  "sub_segment": "Others",
                  "value": [
                      1.13676281373096,
                      0.9513762439069086,
                      0.6234345713059555,
                      0.8850948365289293,
                      0.9635028252341249,
                      0.8693264247859352,
                      0.7438747400559952,
                      0.9299263125270398,
                      0.7744802089336273,
                      0.7269233403917664,
                      0.7722581932670338,
                      0.6710806578380488,
                      0.6585126383214174,
                      0.7295009595234095,
                      0.4658572537491583,
                      0.6383624372421637,
                      0.5598360513966137
                  ]
              }
          ]
      }
  ],
  "pos": [
      {
          "segment": "pos",
          "bars": [
              {
                  "bar": {
                      "sub_segment": "<1Lakh",
                      "value": 8700680.77
                  },
                  "point": {
                      "sub_segment": "<1Lakh",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": ">=1 - 5Lakh",
                      "value": 58810364.54
                  },
                  "point": {
                      "sub_segment": ">=1 - 5Lakh",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": ">=5 - 10Lakh",
                      "value": 17723083.6
                  },
                  "point": {
                      "sub_segment": ">=5 - 10Lakh",
                      "value": 0
                  }
              },
              {
                  "bar": {
                      "sub_segment": ">=10L",
                      "value": 2117218.0
                  },
                  "point": {
                      "sub_segment": ">=10L",
                      "value": 0
                  }
              }
          ]
      },
      {
          "segment": "pos",
          "series": [
              {
                  "sub_segment": "<1Lakh",
                  "value": [
                      2.652389930146536,
                      2.1446622310240913,
                      1.4077034560499968,
                      2.0621207047874246,
                      2.456555650646972,
                      2.503800768911063,
                      2.358144064470497,
                      2.317182376022979,
                      2.2001743947111314,
                      2.0463268639636394,
                      2.0751320854015893,
                      1.747990752856263,
                      1.77455260315778,
                      1.6947939712405404,
                      1.1205586614726601,
                      1.3647634139636355,
                      1.2813675434128609
                  ]
              },
              {
                  "sub_segment": ">=1 - 5Lakh",
                  "value": [
                      1.116985182828243,
                      1.032323150405185,
                      0.7202489966221733,
                      0.8640804432012492,
                      0.9549122170028183,
                      0.904259851210204,
                      0.869424528245601,
                      0.9457348117614183,
                      0.8537675664792497,
                      0.7706624451325803,
                      0.8115302116283538,
                      0.7717789595950465,
                      0.7690599114494242,
                      0.8257750847041747,
                      0.5736234674012124,
                      0.7161680344576445,
                      0.613848009991673
                  ]
              },
              {
                  "sub_segment": ">=5 - 10Lakh",
                  "value": [
                      0.8262475229108175,
                      0.63261060802232,
                      0.4765806877762636,
                      0.5555817231898524,
                      0.5624157847564712,
                      0.43762333560460953,
                      0.44294675023533825,
                      0.4645468028408356,
                      0.5511016471049677,
                      0.3532597278260322,
                      0.498627674847871,
                      0.4669290366992341,
                      0.4412762385092024,
                      0.5680579807644524,
                      0.3859903383858646,
                      0.3957405467219905,
                      0.3586460983511953
                  ]
              },
              {
                  "sub_segment": ">=10L",
                  "value": [
                      0.8477434226466891,
                      0.5853567377033548,
                      0.3141540029551446,
                      0.5039508413741318,
                      0.4767799418368689,
                      0.49611277457626574,
                      0.8260040350643668,
                      0.38160764869375396,
                      0.38682186401048696,
                      0.2920110506098996,
                      0.47701929500542606,
                      0.4985917405495444,
                      0.45862818158530066,
                      0.5352278325632455,
                      0.28263242800375804,
                      0.6014239268609495,
                      0.31491626563310543
                  ]
              }
          ]
      }
  ],
  "cached_output": false
}
const staticDataUniquePerformance: any = 
{
    "vintage": [
        {
            "segment": "vintage",
            "bars": [
                {
                    "bar": {
                        "sub_segment": "V1",
                        "value": 875
                    }
                },
                {
                    "bar": {
                        "sub_segment": "V2",
                        "value": 475
                    }
                },
                {
                    "bar": {
                        "sub_segment": "V3",
                        "value": 392
                    }
                },
                {
                    "bar": {
                        "sub_segment": "V4",
                        "value": 683
                    }
                },
                {
                    "bar": {
                        "sub_segment": "V5",
                        "value": 1343
                    }
                },
                {
                    "bar": {
                        "sub_segment": "V6",
                        "value": 194
                    }
                },
                {
                    "bar": {
                        "sub_segment": "V7",
                        "value": 40
                    }
                }
            ]
        },
        {
            "segment": "vintage",
            "series": [
                {
                    "sub_segment": "V1",
                    "value": [
                        28.314310798946448,
                        17.016879090595936,
                        13.801518438177872,
                        20.589611605053815,
                        20.350877192982455,
                        20.52965637995185,
                        19.41376380628717,
                        19.98742928975487,
                        18.69851729818781,
                        17.29124236252546,
                        20.02055498458376,
                        18.650963597430405,
                        19.226683662630126,
                        18.208891725164857,
                        15.734494015233949,
                        19.032921810699587,
                        17.83893985728848
                    ]
                },
                {
                    "sub_segment": "V2",
                    "value": [
                        17.80006267627703,
                        24.10790144435004,
                        19.39791211459092,
                        20.47756874095514,
                        19.774565057583928,
                        12.50475104522995,
                        12.710566615620214,
                        14.436717663421419,
                        14.091273018414732,
                        12.5,
                        13.866995073891625,
                        14.076034648700675,
                        13.189392161464445,
                        13.020351526364477,
                        12.298578199052132,
                        13.833131801692867,
                        11.429258902791146
                    ]
                },
                {
                    "sub_segment": "V3",
                    "value": [
                        17.689935520044855,
                        15.044510385756677,
                        11.79950186799502,
                        13.028990336554482,
                        12.737771739130435,
                        18.634123445200657,
                        18.589920132194987,
                        17.772108843537417,
                        15.554916618746406,
                        9.554413024850044,
                        10.240759579518482,
                        10.591133004926109,
                        11.189634864546525,
                        11.761347416500142,
                        9.808676906494206,
                        11.434565958562812,
                        9.98471726948548
                    ]
                },
                {
                    "sub_segment": "V4",
                    "value": [
                        12.059770335847787,
                        11.27831133480561,
                        9.444825946859648,
                        10.555256064690028,
                        10.321087974719259,
                        10.538682958350467,
                        9.763567315937768,
                        11.533208127027489,
                        10.57356608478803,
                        11.870503597122301,
                        12.029665176136984,
                        11.314914593603117,
                        11.042360780580676,
                        10.760869565217392,
                        8.921212121212122,
                        9.926867282100467,
                        8.092417061611375
                    ]
                },
                {
                    "sub_segment": "V5",
                    "value": [
                        4.6481670334388925,
                        4.215885947046844,
                        3.4976549246582183,
                        4.191936344670322,
                        4.392179087560216,
                        4.596179307735956,
                        4.524630425541964,
                        5.473349244232299,
                        5.517846247712019,
                        5.4399278683597565,
                        5.813128105503044,
                        5.637725339656016,
                        5.795785571066469,
                        6.408784817875728,
                        5.431082257936822,
                        6.292570885474418,
                        5.279088050314465
                    ]
                },
                {
                    "sub_segment": "V6",
                    "value": [
                        2.538699690402477,
                        2.1502449646162223,
                        1.82507703247215,
                        2.3169981546032394,
                        2.2815804117974405,
                        2.557980900409277,
                        2.262727844123193,
                        2.3772017757410855,
                        2.0907297830374754,
                        2.1012996477590185,
                        2.331081081081081,
                        2.16864933150858,
                        1.9784350578692254,
                        2.0165509369352232,
                        1.690461592362267,
                        1.9862424763542563,
                        1.690042686645178
                    ]
                },
                {
                    "sub_segment": "V7",
                    "value": [
                        1.523683338853925,
                        1.1635423400129283,
                        0.983502538071066,
                        1.0175763182238668,
                        1.1147936125338958,
                        1.0946745562130178,
                        0.9860788863109048,
                        0.9670079635949944,
                        1.1098779134295227,
                        1.193058568329718,
                        1.1699016219090668,
                        1.2522828072006262,
                        0.9162636803257826,
                        1.4000949216896061,
                        2.208835341365462,
                        1.2158703071672354,
                        0.8035355564483728
                    ]
                }
            ]
        }
    ],
    "location": [
        {
            "segment": "location",
            "bars": [
                {
                    "bar": {
                        "sub_segment": "MAHARASHTRA",
                        "value": 649
                    }
                },
                {
                    "bar": {
                        "sub_segment": "TAMIL NADU",
                        "value": 408
                    }
                },
                {
                    "bar": {
                        "sub_segment": "UTTAR PRADESH",
                        "value": 343
                    }
                },
                {
                    "bar": {
                        "sub_segment": "MADHYA PRADESH",
                        "value": 332
                    }
                },
                {
                    "bar": {
                        "sub_segment": "KARNATAKA",
                        "value": 276
                    }
                },
                {
                    "bar": {
                        "sub_segment": "ANDHRA PRADESH",
                        "value": 255
                    }
                },
                {
                    "bar": {
                        "sub_segment": "TELANGANA",
                        "value": 203
                    }
                },
                {
                    "bar": {
                        "sub_segment": "GUJARAT",
                        "value": 194
                    }
                },
                {
                    "bar": {
                        "sub_segment": "HARYANA",
                        "value": 176
                    }
                },
                {
                    "bar": {
                        "sub_segment": "DELHI",
                        "value": 151
                    }
                },
                {
                    "bar": {
                        "sub_segment": "Others",
                        "value": 1015
                    }
                }
            ]
        },
        {
            "segment": "location",
            "series": [
                {
                    "sub_segment": "ANDHRA PRADESH",
                    "value": [
                        9.046374918354017,
                        8.268482490272373,
                        6.882202304737516,
                        7.4074074074074066,
                        8.060067422617223,
                        8.097290640394089,
                        7.5258988421694095,
                        7.722592368261659,
                        7.959305804907241,
                        7.17037037037037,
                        7.604227833235466,
                        7.477451265638638,
                        7.729745204695105,
                        7.801017524024872,
                        6.841216216216216,
                        8.057395143487858,
                        6.961506961506962
                    ]
                },
                {
                    "sub_segment": "DELHI",
                    "value": [
                        11.168032786885245,
                        9.504343382728667,
                        8.695652173913043,
                        9.34761441090555,
                        8.269230769230768,
                        9.262759924385634,
                        8.707735062528949,
                        9.223744292237443,
                        8.955895589558956,
                        7.422046552481334,
                        8.412424503882658,
                        7.472245943637916,
                        7.223855522889543,
                        6.776859504132231,
                        6.6203514507560275,
                        6.239935587761675,
                        5.98256735340729
                    ]
                },
                {
                    "sub_segment": "GUJARAT",
                    "value": [
                        6.475069252077563,
                        5.703551912568306,
                        3.6124240378122887,
                        4.395241242564441,
                        4.726205997392438,
                        4.241435562805873,
                        4.876462938881664,
                        5.120772946859904,
                        5.0,
                        4.62211118051218,
                        5.371393492940454,
                        6.180283388604161,
                        6.122448979591836,
                        6.963869463869464,
                        5.518443218123729,
                        6.128293241695303,
                        5.5004252906152535
                    ]
                },
                {
                    "sub_segment": "HARYANA",
                    "value": [
                        7.814942169427947,
                        6.976019931485518,
                        6.574923547400611,
                        8.1578166716108,
                        7.266334602988573,
                        6.992393212404916,
                        6.365503080082135,
                        7.78735632183908,
                        7.355466514024041,
                        6.283764572078477,
                        6.647887323943662,
                        5.789034233231282,
                        5.974669603524229,
                        6.344492440604752,
                        4.952076677316294,
                        5.474070193818753,
                        4.527913558013893
                    ]
                },
                {
                    "sub_segment": "KARNATAKA",
                    "value": [
                        11.877969492373094,
                        10.301189572260187,
                        7.844129554655871,
                        9.088651601688602,
                        10.151402333085132,
                        10.33182503770739,
                        8.574327752409944,
                        8.849783218566692,
                        8.301404853128991,
                        8.168442415017758,
                        7.966616084977238,
                        7.5610997963340125,
                        7.968431771894094,
                        7.851134335967372,
                        5.955713922117587,
                        7.842645953395139,
                        6.894828878341245
                    ]
                },
                {
                    "sub_segment": "MADHYA PRADESH",
                    "value": [
                        10.761421319796954,
                        9.219858156028367,
                        7.34704112337011,
                        9.008122077282795,
                        9.183673469387756,
                        8.81207400194742,
                        8.711477796651298,
                        10.161718561428916,
                        8.307096149188666,
                        7.315891472868217,
                        9.184652278177458,
                        8.386943054562783,
                        9.4106463878327,
                        10.023809523809524,
                        8.516678495386799,
                        10.037435657463734,
                        7.728119180633147
                    ]
                },
                {
                    "sub_segment": "MAHARASHTRA",
                    "value": [
                        11.371867304070694,
                        10.42448743863702,
                        8.524263554859827,
                        9.994485800937413,
                        9.21928038017651,
                        9.197889895847423,
                        9.306056959486563,
                        8.91753255293963,
                        8.780550885814044,
                        8.631632394008632,
                        8.888053152814342,
                        9.308938064037582,
                        9.154155986818015,
                        9.586737145603074,
                        7.6573342905001205,
                        8.352913533834586,
                        7.506361323155216
                    ]
                },
                {
                    "sub_segment": "TAMIL NADU",
                    "value": [
                        13.955083147608436,
                        12.842914555303162,
                        10.041914076143906,
                        10.12853470437018,
                        10.476354849844666,
                        11.226464895301778,
                        10.751919985711735,
                        10.952467016085306,
                        10.361182050346589,
                        10.3754392454226,
                        10.220994475138122,
                        9.039865244244806,
                        8.950214432220772,
                        9.457684368549446,
                        7.7154685735792246,
                        8.721804511278195,
                        7.626168224299065
                    ]
                },
                {
                    "sub_segment": "TELANGANA",
                    "value": [
                        11.967467079783114,
                        10.63993831919815,
                        9.184060721062618,
                        9.601181683899556,
                        9.520348837209303,
                        9.130592942888322,
                        9.913169319826338,
                        9.42389758179232,
                        8.701804032543333,
                        8.401276143211627,
                        8.796622097114708,
                        8.31304347826087,
                        7.387140902872777,
                        7.299024554322234,
                        6.912595546693254,
                        8.145240431795878,
                        6.586632057105775
                    ]
                },
                {
                    "sub_segment": "UTTAR PRADESH",
                    "value": [
                        11.994516792323509,
                        10.940366972477063,
                        9.281164695177434,
                        10.480640854472629,
                        9.878453038674033,
                        9.892809289861546,
                        8.807134894091416,
                        9.832081307998232,
                        9.226386149463073,
                        8.148631029986962,
                        9.176470588235293,
                        8.288940975921586,
                        7.9113924050632916,
                        7.795473595976529,
                        7.209446861404599,
                        8.160358160358161,
                        6.872370266479663
                    ]
                },
                {
                    "sub_segment": "Others",
                    "value": [
                        9.462565674255693,
                        8.042688964682583,
                        6.26846078109616,
                        7.884440156509622,
                        7.553899387809422,
                        7.516094420600858,
                        6.817570837141782,
                        7.395084254588387,
                        6.539203084832905,
                        6.295309168443497,
                        6.58682634730539,
                        6.253309329662184,
                        6.038113287007791,
                        5.950881612090679,
                        5.373525557011796,
                        6.244475640825664,
                        5.244122965641953
                    ]
                }
            ]
        }
    ],
    "pos": [
        {
            "segment": "pos",
            "bars": [
                {
                    "bar": {
                        "sub_segment": "<1Lakh",
                        "value": 756
                    }
                },
                {
                    "bar": {
                        "sub_segment": ">=1 - 5Lakh",
                        "value": 2708
                    }
                },
                {
                    "bar": {
                        "sub_segment": ">=5 - 10Lakh",
                        "value": 490
                    }
                },
                {
                    "bar": {
                        "sub_segment": ">=10Lakh",
                        "value": 48
                    }
                }
            ]
        },
        {
            "segment": "pos",
            "series": [
                {
                    "sub_segment": "<1Lakh",
                    "value": [
                        7.417631879013382,
                        6.297652638530347,
                        4.779411764705882,
                        6.052919813224189,
                        6.435079726651481,
                        6.634880514705882,
                        6.366459627329192,
                        6.2906100856765,
                        6.020220588235294,
                        5.68058180152322,
                        6.030208036477629,
                        5.52445155393053,
                        5.6401226854481425,
                        5.144475920679887,
                        4.595370839668863,
                        5.146853146853147,
                        4.186973859105007
                    ]
                },
                {
                    "sub_segment": ">=1 - 5Lakh",
                    "value": [
                        11.685744630634883,
                        10.562816751133635,
                        8.605123077375525,
                        9.807648007371574,
                        9.519993130492029,
                        9.417955944096164,
                        8.827594149487505,
                        9.615329533411623,
                        8.7782340862423,
                        8.387901465544122,
                        8.83476599808978,
                        8.400849304352684,
                        8.333564052160911,
                        8.651518485915492,
                        7.3675246545614375,
                        8.456997400346621,
                        7.271555543621277
                    ]
                },
                {
                    "sub_segment": ">=5 - 10Lakh",
                    "value": [
                        12.349148619606547,
                        10.27250206440958,
                        8.544199802826158,
                        9.413281753707285,
                        8.603351955307263,
                        8.604725415070243,
                        8.12470477090222,
                        8.243451463790446,
                        7.846107240230234,
                        6.619844590555887,
                        7.326007326007327,
                        7.403123192596876,
                        7.121492664862555,
                        7.9252127808008925,
                        6.397028477094511,
                        7.3197131646597215,
                        6.535947712418301
                    ]
                },
                {
                    "sub_segment": ">=10Lakh",
                    "value": [
                        12.280701754385964,
                        9.828009828009828,
                        7.804878048780488,
                        11.347517730496454,
                        7.943925233644859,
                        10.465116279069768,
                        10.135135135135135,
                        9.010989010989011,
                        8.38709677419355,
                        9.224318658280922,
                        9.523809523809524,
                        10.905349794238683,
                        8.113590263691684,
                        9.362549800796813,
                        8.46456692913386,
                        10.285714285714285,
                        9.056603773584905
                    ]
                }
            ]
        }
    ],
    "cached_output": false
}

const PerformanceRecovery: React.FC = () => {
  const [activeButton, setActiveButton] = useState<string>("$Recovery");
  const [selectedCategory, setselectedCategory] = useState("vintage");
  const [selectedSubCategory, setselectedSubCategory] = useState("<6");
  const [selectedSubCategoryTwo, setselectedSubCategoryTwo] = useState("1");
  const [selectedSubCategoryAgency, setselectedSubCategoryAgency] =
    useState("DCA1");
  const [
    selectedSubCategoryUniquePayerAgency,
    setselectedSubCategoryUniquePayerAgency,
  ] = useState("DCA1");
  const [selectedSubCategoryPayment, setselectedSubCategoryPayment] =
    useState("PA");
  const [selectedSubCategoryLocation, setselectedSubCategoryLocation] =
    useState("MUM");
  const [selectedSubCategorySegments, setselectedSubCategorySegments] =
    useState("Score");

  const [
    selectedSubCategoryUniquePayerSegments,
    setselectedSubCategoryUniquePayerSegments,
  ] = useState("Seg1");
  const [customizeBarScatterTitle, setCustomizeBarScatterTitle] = useState(
    "Recovery (millions)"
  );
  const [forwardFlowRatePerformanceTitle, setForwardFlowRatePerformanceTitle] =
    useState("% Recovery");

  const [performanceRecoveryGraphData, setperformanceRecoveryGraphData] =
    useState<any>();
  const [hoveredState, setHoveredState] = useState(false);

  const [
    performanceRecoveryUniquePayerGraphData,
    setperformanceRecoveryUniquePayerGraphData,
  ] = useState<any>();
  let navigate = useNavigate();
  const handleProductClick = async (buttonId: string) => {
    setActiveButton(buttonId);
    if (buttonId === "uniquePayer") {
      setCustomizeBarScatterTitle("Unique Payers");
      setForwardFlowRatePerformanceTitle(" Unique Payer%");
    } else if (buttonId === "$Recovery") {
      setCustomizeBarScatterTitle("Recovery (millions)");
      setForwardFlowRatePerformanceTitle("% Recovery");
    }
  };

  const handleCategoryClick = async (cityId: string) => {
    setselectedCategory(cityId);
  };

  const handleSubCategoryClick = async (cityId: string) => {
    setselectedSubCategory(cityId);
  };

  const handleSubCategoryTwoClick = async (cityId: string) => {
    setselectedSubCategoryTwo(cityId);
  };
  const handleSubCategoryAgencyClick = async (cityId: string) => {
    setselectedSubCategoryAgency(cityId);
  };

  const handleSubCategoryUniquePayerAgencyClick = async (cityId: string) => {
    setselectedSubCategoryUniquePayerAgency(cityId);
  };

  const handleSubCategoryPaymentClick = async (cityId: string) => {
    setselectedSubCategoryPayment(cityId);
  };
  const handleSubCategoryLocationClick = async (cityId: string) => {
    setselectedSubCategoryLocation(cityId);
  };
  const handleSubCategorySegmentClick = async (cityId: string) => {
    setselectedSubCategorySegments(cityId);
  };
  const handleSubCategoryUniquePayerSegmentClick = async (cityId: string) => {
    setselectedSubCategoryUniquePayerSegments(cityId);
  };
  const [isWide, setIsWide] = useState(false);
  useEffect(() => {
    // fetchNewdata();
    // fetchNewWithoutCorsData();
    // fetchNewDataWithoutCorsUniquePayer();
    // fetchNewDataUniquePayer();
  }, []);

  const fetchNewdata = async () => {
    // setLoader(true);
    const apiUrl =
      "https://smfg-backend-service.site/v1/monitoring/performance/recovery";
    // const proxyUrl = "https://smfg-backend-service.site/v1/home/";
    const proxyUrl = "https://cors-anywhere.herokuapp.com/";
    const apiKey = "368f286f442e50f720ef7d8d952add8b";
    const urlWithParams = `${proxyUrl}${apiUrl}?api_key=${apiKey}`;
    fetch(urlWithParams)
      .then((response) => response.json())
      .then((data) => {
        // setDashboardNewdata(data?.balance);
        setperformanceRecoveryGraphData(data);
        console.log(data, "performance Buckets graph data");
        // setLoader(false);
        // console.log("balanceData", data?.balance);
      })
      .catch((error) => console.error("Error fetching data:", error));
    // setLoader(false);
  };

  const fetchNewWithoutCorsData = async () => {
    // setLoader(true);
    const apiUrl =
      "https://smfg-backend-service.site/v1/monitoring/performance/recovery";
    // const proxyUrl = "https://cors-anywhere.herokuapp.com/";
    const apiKey = "368f286f442e50f720ef7d8d952add8b";
    const urlWithParams = `${apiUrl}?api_key=${apiKey}`;
    fetch(urlWithParams)
      .then((response) => response.json())
      .then((data) => {
        // setDashboardNewdata(data?.balance);
        setperformanceRecoveryGraphData(data);
        console.log(data, "performance Buckets graph data");

        // console.log("balanceData", data?.balance);
      })
      .catch((error) => console.error("Error fetching data:", error));
  };

  const fetchNewDataUniquePayer = async () => {
    // setLoader(true);
    const apiUrl =
      "https://smfg-backend-service.site/v1/monitoring/performance/unique_payer";
    // const proxyUrl = "https://smfg-backend-service.site/v1/home/";
    const proxyUrl = "https://cors-anywhere.herokuapp.com/";
    const apiKey = "368f286f442e50f720ef7d8d952add8b";
    const urlWithParams = `${proxyUrl}${apiUrl}?api_key=${apiKey}`;
    fetch(urlWithParams)
      .then((response) => response.json())
      .then((data) => {
        // setDashboardNewdata(data?.balance);
        setperformanceRecoveryUniquePayerGraphData(data);
        console.log(data, "performance Buckets unique payer graph data");
        // setLoader(false);
        // console.log("balanceData", data?.balance);
      })
      .catch((error) => console.error("Error fetching data:", error));
    // setLoader(false);
  };

  const fetchNewDataWithoutCorsUniquePayer = async () => {
    const apiUrl =
      "https://smfg-backend-service.site/v1/monitoring/performance/unique_payer";
    // const proxyUrl = "https://cors-anywhere.herokuapp.com/";
    const apiKey = "368f286f442e50f720ef7d8d952add8b";
    const urlWithParams = `${apiUrl}?api_key=${apiKey}`;
    fetch(urlWithParams)
      .then((response) => response.json())
      .then((data) => {
        // setDashboardNewdata(data?.balance);
        setperformanceRecoveryUniquePayerGraphData(data);
        console.log(data, "performance Buckets unique payer graph data");
        // console.log("balanceData", data?.balance);
      })
      .catch((error) => console.error("Error fetching data:", error));
  };
  const [selectedState, setSelectedState] = useState(null);

  const handleStateHover = (state: any) => {
    setSelectedState(state);
  };

  return (
    <div className="CommonBodyWrap bg-[#fafafb]">
      <div className="px-[6px] lg:px-[59px] lg:pt-[59px] bg-[#fafafb] flex flex-col gap-5 w-full">
        {/* <PerformanceDashboard /> */}
        <HomeDashboard />
      </div>
      <div className=" w-full flex flex-col gap-5 mt-4 items-start ml-[73px] mb-4">
        <div className="flex ">
          <div className=" flex w-full justify-between rounded-xl B1TabsContain">
            {Buttons.map((buttons, index) => (
              <div
                key={buttons.id}
                onClick={() => handleProductClick(buttons.id)}
                className={`text-center text-[#1C1B1F] text-[14px] font-[500] font-['DM Sans' !important] h-10 
                 border p-4 border-[#79747E] flex align-center justify-center items-center cursor-pointer ${
                   activeButton === buttons.id
                     ? " bg-[#E8DEF8] "
                     : "bg-[#fafafb]"
                 } ${index === 0 ? "rounded-l-[4px]" : ""} ${
                  index === Buttons.length - 1 ? "rounded-r-[4px]" : ""
                }`}
              >
                {buttons.label}
              </div>
            ))}
          </div>
        </div>

        <div className="flex">
          <div className=" flex justify-between  rounded-xl B1TabsContain">
            {categories.map((city, index) => (
              <div
                key={city.id}
                onClick={() => handleCategoryClick(city.id)}
                className={`text-center text-[#1C1B1F] text-[14px] font-[500] font-['DM Sans' !important] h-10 w-full p-4 border border-[#79747E] flex align-center justify-center items-center cursor-pointer ${
                  selectedCategory === city.id
                    ? " bg-[#E8DEF8] "
                    : "bg-[#fafafb]"
                } ${index === 0 ? "rounded-l-[4px]" : ""} ${
                  index === categories.length - 1 ? "rounded-r-[4px]" : ""
                }`}
              >
                {city.name}
              </div>
            ))}
          </div>
        </div>
      </div>
      <div className="flex flex-col  items-start  justify-center gap-1 p-[6px] lg:px-[59px] bg-[#fafafb] w-full">
        <div
          className={`w-full flex flex-col xl:flex-row 
          } items-center justify-between xl:gap-1`}
        >
          <CustomizeBarScatterPeroformanceRecovery
            customizeBarScatterTitle={customizeBarScatterTitle}
            activeButton={activeButton}
            selectedCategory={selectedCategory}
            setIsWide={setIsWide}
            isWide={isWide}
            handleStateHover={handleStateHover}
            staticDataUniquePerformance={staticDataUniquePerformance}
            staticDataRecoveryPerformance={staticDataRecoveryPerformance}
            setHoveredState={setHoveredState}
          />
          <ForwardFlowRatesPerformanceRecovery
            forwardFlowRatePerformanceTitle={forwardFlowRatePerformanceTitle}
            selectedCategory={selectedCategory}
            selectedSubCategory={selectedSubCategory}
            selectedSubCategoryTwo={selectedSubCategoryTwo}
            selectedSubCategoryAgency={selectedSubCategoryAgency}
            selectedSubCategoryPayment={selectedSubCategoryPayment}
            selectedSubCategoryLocation={selectedSubCategoryLocation}
            selectedSubCategorySegments={selectedSubCategorySegments}
            performanceRecoveryGraphData={performanceRecoveryGraphData}
            activeButton={activeButton}
            performanceRecoveryUniquePayerGraphData={
              performanceRecoveryUniquePayerGraphData
            }
            setIsWide={setIsWide}
            isWide={isWide}
            staticDataRecoveryPerformance={staticDataRecoveryPerformance}
            staticDataUniquePerformance={staticDataUniquePerformance}
            selectedState={selectedState}
            hoveredState={hoveredState}
          />
        </div>
        <div className="w-full flex items-center justify-end gap-5 mt-8">
          <button
            onClick={() => navigate(-1)}
            className=" self-end w-20 h-10 px-4 py-2.5 rounded-3xl border border-zinc-500  text-center text-[#6750a4] text-sm font-medium "
          >
            Back
          </button>
          <Button
            // onClick={reviewHotspots}
            width="200px"
            height="40px"
            fontSize="14px"
            padding="5px"
            borderRadius="30px"
          >
            Review Hotspots
          </Button>
        </div>
      </div>
    </div>
  );
};

export default PerformanceRecovery;
